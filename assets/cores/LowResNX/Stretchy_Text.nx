GLOBAL SX, YU, ST
SX = 0
YU = 10
ST = 24

FOR X= 0 TO 31
  FOR Y = 0 TO 31
  
    BG 0

    IF RND * 10 > 9.5 THEN 
      CELL X,Y, 1+(RND*4)
    END IF 

    BG 1

    IF RND * 10 > 9.8 THEN 
      CELL X,Y, 1+(RND*4)
    END IF 

  NEXT Y
NEXT X


SPRITE 0, 38,8,128
SPRITE 1, 68,48,134
SPRITE 2, 98 ,90,138

SPRITE.A 0, (7,,,,3)
SPRITE.A 1, (7,,,,3)
SPRITE.A 2, (7,,,,3)

BG 0

ON VBL CALL DOVBL
ON RASTER CALL DORASTER

MUSIC 0



DO 

  SCROLL 0, 0, SX
  SCROLL 1, 0, SX*2
  
  SX = SX + 1
  
  ' ANIMATE BG EVERY 16 FRAMES
  
  IF SX MOD 16 = 0 THEN
    
   FOR X = 0 TO 31
     FOR Y = 0 TO 31
     
       IF CELL.C(X,Y) > 0 THEN
      
         CC = CELL.C(X,Y)+1
         
         IF CC = 5 THEN CC = 1
           
           CELL X, Y, CC
          
         END IF
       
      NEXT Y
    NEXT X
   
  END IF
  
 WAIT VBL
 
LOOP


SUB DORASTER

  X = 96+(SIN((SX+RASTER)/32)*ST)
  POKE $FE01, -(X+80)
  POKE $FE05, X-30
  POKE $FE09, -(X+80)
  
END SUB


SUB DOVBL

  YU = 0

END SUB






#1:MAIN PALETTES
003F2A0000383400003C0C00003F3C00
003F2A15003F2A15003F2A1500002A15

#2:MAIN CHARACTERS
00000000000000000000000000000000
00000008000000000000000000000000
00001038100000000000000000000000
000010107C1010000000002800280000
0008002814001000000008500A100000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
18003C184281A5DB0018183C3C7E7E7E
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00003F3F3F3E3C3C7FFFC0C0C0C1C3C3
0000FFFFFF000000FFFF000000FFFF01
0000FCFCFCFC7C7CFEFF030303038383
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00003F3F3F3E3C3C7FFFC0C0C0C1C3C3
0000FFFFFF000000FFFF000000FFFF01
0000FCFCFCFC7C7CFEFF030303038383
00000000000000000000000000000000
00003E3E3E3E3E3E7FFFC1C1C1C1C1C1
00000000000000000081818181818181
00007C7C7C7C7C7C7EFF838383838383
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3C3C3C3C3C3C3E3FC3C3C3C3C3C3C1C0
00000000000000FF0101010101FFFF00
7C7C7C7C7C7CF8F0838383838383060C
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3C3C3C3C3C3C3C3CC3C3C3C3C3C3C3C3
00000000000000000101010101010101
7C7C7C7C7C7C7C7C8383838383838383
00000000000000000000000000000000
3E3E3E3F3F3F3F3FC1C1C1C0C0C0C0C0
00000000FFFFFFFF8181FFFF00000000
7C7C7CFCFCFCFCFC8383830303030303
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3F3F3F3F3F3F3F3FC0C0C0C0C0C0C0C0
FFFFFFFF0000000000000000FFFFC3C3
C0E0F0F8FCFCFCFC381C0E0703030303
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3C3C3C3C3C3C3C3CC3C3C3C3C3C3C3C3
00000000000000000101010101010101
7C7C7C7C7C7C7C7C8383838383838383
00000000000000000000000000000000
000000000000003F7F3F0000007FFFC0
0000000000000000FFFF0101010181FF
7C7C7C7C7C7C7C7C8383838383838383
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3F3F3F3F3F3F0000C0C0C0C0C0C0FF7F
0000000000000000C3C3C3C3C3C3C3C1
FCFCFCFCFCFC0000030303030303FFFE
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
3C3C3E3F3F3F0000C3C3C1C0C0C0FF7F
000000FFFFFF000001FFFF000000FFFF
7C7CFCFCFCFC0000838303030303FFFE
00000000000000000000000000000000
3F3F3F3F3F1F0000C0C0C0C0C0E07F3F
00FFFFFFFFFF0000FF0000000000FFFF
FCFCFCFCFCFC0000030303030303FFFE

#3:MAIN BG
00001410000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000

#15:MAIN SOUND
2800303A000450001800846C003A0000
08006060000000002800303019FE0000
38001020000000003800505000000000
0800000F000000000800000F00000000
0800000F000000000800000F00000000
0800000F000000000800000F00000000
0800000F000000000800000F00000000
0800000F000000000800000F00000000
81820300404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
40404040404040404040404040404040
244F00FF0000244B00FF00001E590000
00003C48003C4400335800FF00003C44
00FF00003C4700FF00003A5600FF0000
3C4F00FF000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
190FE5FF0000280F00FF00002C0F00FF
0000FF0000FF00002C0F00FF00000000
000000002A0F00FF0000280F00FF0000
2C0F00FF0000000000000000193F0000
00002A0F00000000280F000000000000
00000000270F00000000000000000000
312F0000000000000000000000000000
00003D2F00FF0000380F003A08003B04
00FF0000360F00380800390400FF0000
2F0F00FF0000502F00FF0000442B0000
00000000000000000000000000000000
00000000000000000000000000000000
193F000000000000000000002E3F0000
0000193F00000000000000000000193F
00000000193F00000000000000000000
532F00522F002C3F00000000402F0000
0000452F00000000442F000000000000
00000000422F000000002F3F00000000

