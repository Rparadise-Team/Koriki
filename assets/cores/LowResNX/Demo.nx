'** SCROLLING BACKGROUND AND SPRITES DEMO **

GLOBAL TICK,WATERY

BG 0
BG COPY 0,0,32,16 TO 0,0
BG 1
BG COPY 0,16,32,16 TO 0,0

ON RASTER CALL RASTERFX
GAMEPAD 1

BG 1
PAL 7
PRIO 1
TEXT 0,0,"SCORE"

'INIT SPRITE
SPRITE 0 PAL 6 SIZE 1

WATERY=112

JUMP=0
PX=32
PY=64
VY=0

DO
 TICK=TICK+1
 
 'PLAYER CONTROL
 IF LEFT(0) THEN PX=PX-1
 IF RIGHT(0) THEN PX=PX+1
 IF PY=64 AND (BUTTON TAP(0,0) OR BUTTON TAP(0,1)) THEN VY=-8
 
 'ANIMATE PLAYER SPRITE
 PY=PY+VY/2
 IF PY=64 THEN
  VY=0
  FR=130+((TICK/8) MOD 3)*2
 ELSE
  VY=VY+0.5
  FR=136
 END IF
 SPRITE 0,PX,PY,FR
 
 'SCROLL MAIN PLANE
 SCROLL 0,TICK,0
 
 'WATER LEVEL
 WATERY=INT(112+SIN(TICK*0.01)*12)
 
 'FAKE SCORE COUNTER
 NUMBER 15,0,TICK/20,5
 
 WAIT VBL
LOOP


SUB RASTERFX
 '3D SCROLLING, SKY COLORS AND UNDER WATER
 IF RASTER=0 THEN
  SCROLL 1,0,0
  COPY ROM(1),SIZE(1) TO $FF00
  PALETTE 0,%110111,,,
  EXIT SUB
 END IF
 IF RASTER=WATERY THEN
  COPY ROM(5),SIZE(5) TO $FF00
  EXIT SUB
 END IF
 IF RASTER>WATERY-1 THEN
  OFFS=SIN((RASTER+TICK*0.5)*0.1)*4
  SCROLL 1,TICK*1.5+OFFS,0
  SCROLL 0,TICK+OFFS,0
  EXIT SUB
 ELSE IF RASTER<8 THEN
  SCROLL 1,0,0
 ELSE IF RASTER<32 THEN
  IF RASTER=14 THEN PALETTE 0,%100111,,,
  IF RASTER=28 THEN PALETTE 0,%010111,,,
  SCROLL 1,TICK*3/8,0
  EXIT SUB
 ELSE IF RASTER<56 THEN
  IF RASTER=42 THEN PALETTE 0,%000111,,,
  SCROLL 1,TICK/4,0
 ELSE IF RASTER>56+3*8 THEN
  SCROLL 1,TICK*1.5,0
 ELSE
  SCROLL 1,TICK*0.5*(0.5+(RASTER-55)/32),0
 END IF
END SUB


#1:MAIN PALETTES
07382410000C0804000F0B07003F2F1B
003C38340030201000103039003F1500

#2:MAIN CHARACTERS
00000000000000000000000000000000
0020040000440002FFDFFFFFFFFBFFFF
FFFFFF77220088DD00000088DDFFFFFF
C0E0E8E8E2C8E0C23F1F17171D371F3D
01094B0B030B0123FFFFFFFFFFFFFFFF
030C12204044808000030F1F3F3F7F7F
8082404820100C03FFFF7F7F3F1F0F03
0002000010000000FFFFFFFFFFFFFFFF
0083443800834438FFFFFFFFFFFFFFFF
0083443800834438000083C7FFFFFFFF
08080808088B442818181818DBFF7C38
080808080808080818181A1C18583818
30382743C2E41C180000183C3C180000
00000000001044550000000000000000
7E81A3818985A17E007F5D7F777F7F7E
10220C3870C40802FFFDF3C78F3FFFFD
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
030C10204040808000030F1F3F3F7F7F
8080404020100C03FFFF7F7F3F1F0F03
0000000000000000FFFFFFFFFFFFFFFF
00000000000000FFFFFFFFFFFFFFFFFF
0304041820204080000303071F1F3F7F
804030080402020180C0F0F8FCFEFEFF
0000000000000000FFFFFFFFFFFFFFFF
007300E600700238FFFCFF1FFFFFFFC7
00801800010C2000FF7FFFFFFFF3FFFF
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
0307070F1F1F07050000010407070302
E0F8F0FCFCF8F0C00000B0FCDC80F020
000307070F1F1F070000000104070703
00E0F8F0FCFCF8F0000000B0FCDC80F0
000307070F1F1F070000000104070703
00E0F8F0FCFCF8F0000000B0FCDC80F0
070F0F1F3F3F0F1F000003090F0F0700
C0F0E0F8F8F0E040000060F8B800E080
00070F0F1F3F3F0F00000003090F0F03
0EDEFEFEFEFCFCF80E160E60F8B800E0
00000000000307070000000000000001
0000000000E0F8F000000000000000B0
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
0D1D1E1C0C000E1E0202031F0F0F0000
D0D83C1C1800383C2020E0FCF8780000
0F1F38301818180C00003F3707070000
5C5C983838380000BCBCF0C0C0800000
0B13033030302000040C1C0F0F0C0000
00D8FCFC80007078C0181C1C60E00000
1707000001050E0708181F0F0E020000
C0E0600080C040004060E0E060000000
3E3E3C1C6663604001091F1B191C1E00
B0A08206068600004050F0F8F8780000
0F0F0F1B1F1C0E1E04070307060F0100
FCFCF8FCFC0C1C1EFCDC80F028FCE000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
183C3C3C3C183C181824242424182418
6CFEFE7E240000006C92925A24000000
247EFF7E7EFF7E24245A815A5A815A24
083E7F7E3F7F3E080836414631413608
62F7FE7C3E7FEF4662959A742E59A946
1C3E7E7EFFFE7F3A1C224A46919A453A
183C3C78300000001824244830000000
0C1E3C78783C1E0C0C1224484824120C
30783C1E1E3C78303048241212244830
00247E7EFF7E7E2400245A6681665A24
00183C7EFF7E3C180018246681662418
000000183C3C78300000001824244830
0000007EFF7E00000000007E817E0000
00000000183C3C180000000018242418
060F1E3C78F0E040060912244890A040
3C7EFFFFFFFF7E3C3C4299918999423C
183C7C3C3C7EFF7E182444242466817E
3C7EFF7E3C7EFF7E3C429972244E817E
3C7EFF7E6FFF7E3C3C4299726999423C
66FFFFFF7F0F0F066699998179090906
7EFFFEFE7F7FFE7C7E819E827979827C
1C3E7CFEFFFF7E3C1C224C829999423C
7EFF7F1E3C7878307E81791224484830
3C7EFF7EFFFF7E3C3C4299429999423C
3C7EFF7F7FFF7E3C3C4299417999423C
0000183C183C18000000182418241800
0000183C183C78300000182418244830
000C1E3C783C1E0C000C12244824120C
00007EFF7EFF7E0000007E817E817E00
0030783C1E3C78300030482412244830
3C7EFF7E3C183C183C42997224182418
3C7EFFFFFFFE7E3C3C429991919E423C
183C7EFFFFFFFF661824429981999966
7CFEFFFEFFFFFE7C7C8299829999827C
3C7EFFF6F6FF7E3C3C4299969699423C
78FCFEFFFFFEFC787884929999928478
7EFFFEFCF8FEFF7E7E819E84989E817E
7EFFFEFCF8F0F0607E819E8498909060
3C7EFEFFFFFF7E3C3C429E919999423C
66FFFFFFFFFFFF666699998199999966
3C7E3C3C3C3C7E3C3C4224242424423C
1E3F1F0F6FFF7E3C1E2119096999423C
66FFFEFCFCFEFF666699928484929966
60F0F0F0F0FEFF7E60909090909E817E
42E7FFFFFFFFFF6642A5998181999966
66FFFFFFFFFFFF666699898191999966
3C7EFFFFFFFF7E3C3C4299999999423C
7CFEFFFEFCF0F0607C8299829C909060
3C7EFFFFFFFE7F3E3C4299999592413E
7CFEFFFEFCFEFF667C82998284929966
3E7FFE7E3F7FFE7C3E419E423979827C
7EFF7E3C3C3C3C187E81662424242418
66FFFFFFFFFF7E3C669999999999423C
66FFFFFFFF7E3C186699999999422418
66FFFFFFFFFFE742669999818199A542
66FF7E3C7EFFFF666699422442999966
66FFFF7E3C3C3C186699994224242418
7EFF7E3C78FEFF7E7E817224489E817E
3C7E7C78787C7E3C3C424C48484C423C
60F0783C1E0F07026090482412090502
3C7E3E1E1E3E7E3C3C4232121232423C
183C7EFF660000001824429966000000
00000000007EFF7E00000000007E817E

#3:MAIN BG
00002020000000000501070905090000
00200000000000000000000000000000
00000000000000000000000000000000
05010701070105090000000000000000
00000000000005010701070107010529
05210729052900200020000000000000
00000000000000000000000000000521
07210721072107210529000000000000
00000000050107010701070107010721
07290729072905290020000000000000
00000000000000000000000000000721
07210721072107210721000000000000
00000000070107010701070107010721
07290729072907290529000000000000
00000000000000000000000000000621
07210721072107210629000000000000
00000000060107010701070107010729
0729072907290729062900000E000E00
0E000E00000000000000000000000000
062107210721062900000E000E000E00
00000000000006010701070106090721
07290729072906290000000000000000
00000000000000000000000000000000
000003A004A000000000000000000000
00000000000000000300040000000621
07A107A106290E000E00000000000000
00000000000000000000000000000000
000003A004A000000000000000000000
00000000000000000300040000000000
03A004A0000000000000000000000000
00000CA4000000000000000000000000
000003A004A000000000000000000000
0E000E00000000000300040000000080
03A004A0000000000000000000000000
0C040BA100000C040000000000000000
000003A004A000000000000000000000
000000000D810D81030004000DA10DA1
03A004A00DA10DA100000DA10DA10D21
0B010BA10D010B010D210D210D210D21
0D2103A004A000200DA10DA100200000
00000000020102010201020102010201
02010201020102010201020102010201
02010201020102010201020102010201
02010201020102010201020102010201
02010201010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
010001000F0001000100010001000100
01000100010001000100010001000100
0F000100010001000F00010001000100
01000100010001000100010001000100
01000100010001000100010001000100
01000F00010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
01000100010001000100010001000100
010001000100010001000F0001000100
01000100010001000100010001000100
0100010001000F000100010001000100
01000100010001000F00010001000100
01000100010001000100010001000100
01000100000000000000000000000000
00000000000000000000000000000000
00000000000000000000000000000000
0000000B000B00000000000000000000
00000000000000000000000000000000
00000000000000000000000000004003
4203400B000000000000000000000000
400342034203400B0000000000000000
00000000000000000000000000000000
00000000000000000000000040034203
420342034203400B0000000000000000
410343034303410B0000000000000000
00000000000000000000000000000000
00000000000000000000000041034303
430343034303410B0000000000000000
00000000000000000000000000000000
000000000000000040034203400B0000
00000000000000000000000000000000
00000000000000000000000000004003
4203400B000000000000000000000000
0000000000004003420342034203400B
00000000000000000000000000000000
00000000000000000000000040034203
42034203400B00000000000000000000
0000000000004103430343034303410B
00000000000000000000000000000000
00000000000000000000000041034303
43034303410B00000000000000000000
00000000470247024702470247024702
47024702470247024702470247024702
47024702470247024702470247024702
47024702470247024702470247024702
47024702480248024802480248024802
48024802480248024702480246024802
48024702460248024802480247024802
4802460A4802460A460A460A460A4802
480248024802460A4802460248024802
460A4602480248024802460A48024802
48024602460A460A4802460A460A4802
460A48024602460A48024802460A4802
460248024602460A460A480246024802
460A460A48024602460A48024802460A
4802460A460A4802460A480246024802
4802460A46024802460A460A460A4802
480248024802460A4802460248024802
460A4602480248024802460A48024802
480246024702460A4802460248024802
460A48024602460A48024802460A4802
4602480246024602460202A102A14602
46024602460246024602460246024602
46024602460246024602460246024602
46024602460202A102A1460246024602
4602460246024602460203A004A04602
46024602460202A102A1460246024602
4602460202A102A14602460246024602
46024602460203A004A0460246024602
4602460246024602460203A004A04602
46024602460203A004A0460246024602
4602460203A004A046024602460202A1
02A14602460203A004A0460246024602
4602460246024602460203A004A04602
46024602460203A004A0460246024602
4602460203A004A046024602460203A0
04A04602460203A004A0460246024602
46024602

#5:WATER COLOR PALETTES
070F0B07000F0B07000F0B07003F2F1B
000F0B07000B07030003070F000F0601

